<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Madrasti2.0 — Simple Development Checklist</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f8fafc;
      margin: 0;
      padding: 20px;
      line-height: 1.6;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      overflow: hidden;
    }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
      text-align: center;
    }
    .header h1 {
      margin: 0 0 10px 0;
      font-size: 28px;
      font-weight: 700;
    }
    .header p {
      margin: 0;
      opacity: 0.9;
      font-size: 16px;
    }
    .progress {
      background: #e2e8f0;
      height: 8px;
      border-radius: 4px;
      margin: 20px 30px 0;
      overflow: hidden;
    }
    .progress-bar {
      background: #10b981;
      height: 100%;
      width: 0%;
      transition: width 0.3s ease;
    }
    .progress-text {
      text-align: center;
      margin: 10px 0 0 0;
      font-size: 14px;
      color: rgba(255,255,255,0.8);
    }
    .content {
      padding: 0;
    }
    .phase {
      border-bottom: 1px solid #e2e8f0;
    }
    .phase:last-child {
      border-bottom: none;
    }
    .phase-header {
      background: #f8fafc;
      padding: 20px 30px;
      border-bottom: 1px solid #e2e8f0;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background 0.2s;
    }
    .phase-header:hover {
      background: #f1f5f9;
    }
    .phase-title {
      font-size: 20px;
      font-weight: 600;
      color: #1e293b;
    }
    .phase-meta {
      display: flex;
      align-items: center;
      gap: 15px;
      color: #64748b;
      font-size: 14px;
    }
    .toggle-icon {
      font-size: 18px;
      transition: transform 0.2s;
    }
    .phase-content {
      padding: 0 30px 20px;
      display: none;
    }
    .phase.expanded .phase-content {
      display: block;
    }
    .phase.expanded .toggle-icon {
      transform: rotate(90deg);
    }
    .step {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      padding: 15px 0;
      border-bottom: 1px solid #f1f5f9;
    }
    .step:last-child {
      border-bottom: none;
    }
    .step-checkbox {
      margin-top: 2px;
      width: 18px;
      height: 18px;
      cursor: pointer;
    }
    .step-content {
      flex: 1;
    }
    .step-title {
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 5px;
    }
    .step-description {
      color: #64748b;
      font-size: 14px;
      margin-bottom: 8px;
    }
    .step-tasks {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .step-tasks li {
      color: #475569;
      font-size: 14px;
      padding: 2px 0;
      position: relative;
      padding-left: 15px;
    }
    .step-tasks li:before {
      content: "•";
      color: #94a3b8;
      position: absolute;
      left: 0;
    }
    .step.completed {
      opacity: 0.7;
    }
    .step.completed .step-title {
      text-decoration: line-through;
      color: #10b981;
    }
    .controls {
      padding: 20px 30px;
      background: #f8fafc;
      display: flex;
      gap: 10px;
      justify-content: center;
      border-top: 1px solid #e2e8f0;
    }
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.2s;
    }
    .btn-primary {
      background: #3b82f6;
      color: white;
    }
    .btn-primary:hover {
      background: #2563eb;
    }
    .btn-secondary {
      background: #e2e8f0;
      color: #475569;
    }
    .btn-secondary:hover {
      background: #cbd5e1;
    }
    .btn-danger {
      background: #ef4444;
      color: white;
    }
    .btn-danger:hover {
      background: #dc2626;
    }
    input[type="file"] {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Madrasti2.0 Development Checklist</h1>
      <p>A clean, step-by-step guide from setup to deployment</p>
      <div class="progress">
        <div class="progress-bar" id="progressBar"></div>
      </div>
      <div class="progress-text" id="progressText">0 / 0 completed</div>
    </div>

    <div class="content" id="content">
      <!-- Content will be generated by JavaScript -->
    </div>

    <div class="controls">
      <button class="btn btn-secondary" id="collapseAll">Collapse All</button>
      <button class="btn btn-secondary" id="expandAll">Expand All</button>
      <button class="btn btn-primary" id="exportBtn">Export Progress</button>
      <label class="btn btn-secondary" for="importFile">
        Import Progress
        <input type="file" id="importFile" accept=".json">
      </label>
      <button class="btn btn-danger" id="resetBtn">Reset All</button>
    </div>
  </div>

  <script>
    const CHECKLIST_DATA = [
      {
        id: 'setup',
        title: '1. Project Setup',
        steps: [
          {
            id: 'repo',
            title: 'Create Repository',
            description: 'Set up the project structure',
            tasks: [
              'Create GitHub repository "madrasti2"',
              'Create main folders: backend/, frontend/, mobile/',
              'Add .gitignore for Python and Node.js',
              'Create README.md with project description'
            ]
          },
          {
            id: 'backend-init',
            title: 'Initialize Backend',
            description: 'Set up Django backend environment',
            tasks: [
              'cd backend/ && python -m venv venv',
              'Activate venv and install Django, DRF',
              'Create requirements.txt',
              'django-admin startproject madrasti .',
              'Update settings.py (database, CORS, etc.)',
              'Create superuser and test server runs'
            ]
          },
          {
            id: 'database',
            title: 'Database Setup',
            description: 'Configure PostgreSQL database',
            tasks: [
              'Install PostgreSQL locally',
              'Create database "madrasti_db"',
              'Update settings.py with database config',
              'Run initial migrations',
              'Test database connection'
            ]
          }
        ]
      },
      {
        id: 'backend-core',
        title: '2. Backend Core',
        steps: [
          {
            id: 'users-app',
            title: 'Users App',
            description: 'Custom user model and authentication',
            tasks: [
              'python manage.py startapp users',
              'Create custom User model (email, phone, role)',
              'Add AUTH_USER_MODEL in settings',
              'Create and run migrations',
              'Set up JWT authentication (djangorestframework-simplejwt)',
              'Create login/register/profile endpoints'
            ]
          },
          {
            id: 'schools-app',
            title: 'Schools App',
            description: 'School and class management',
            tasks: [
              'python manage.py startapp schools',
              'Create School model',
              'Create Class/Grade models',
              'Create Subject model',
              'Add relationships (User -> School, Student -> Class)',
              'Create CRUD endpoints for schools/classes'
            ]
          },
          {
            id: 'courses-app',
            title: 'Courses App',
            description: 'Course and lesson management',
            tasks: [
              'python manage.py startapp courses',
              'Create Course model (linked to Teacher + Class)',
              'Create Lesson model with file attachments',
              'Set up media files handling (Cloudinary/local)',
              'Create course CRUD endpoints',
              'Add lesson content endpoints'
            ]
          },
          {
            id: 'homework-app',
            title: 'Homework App',
            description: 'Assignments and submissions',
            tasks: [
              'python manage.py startapp homework',
              'Create Assignment model',
              'Create Submission model',
              'Add deadline and status handling',
              'Create assignment CRUD endpoints',
              'Create submission endpoints for students'
            ]
          },
          {
            id: 'grades-app',
            title: 'Grades App',
            description: 'Grading system',
            tasks: [
              'python manage.py startapp grades',
              'Create Grade model',
              'Add grade calculation logic',
              'Create grading endpoints for teachers',
              'Create grade viewing endpoints for students/parents',
              'Add grade history/audit trail'
            ]
          },
          {
            id: 'attendance-app',
            title: 'Attendance App',
            description: 'Attendance tracking',
            tasks: [
              'python manage.py startapp attendance',
              'Create Attendance model',
              'Create daily attendance endpoints',
              'Add attendance statistics',
              'Create attendance reports for parents'
            ]
          }
        ]
      },
      {
        id: 'frontend-core',
        title: '3. Frontend Core',
        steps: [
          {
            id: 'frontend-init',
            title: 'Initialize React App',
            description: 'Set up frontend with Vite',
            tasks: [
              'cd frontend/ && npm create vite@latest . -- --template react',
              'npm install',
              'Install Tailwind CSS and configure',
              'Install React Router, Axios, React Hook Form',
              'Set up folder structure (components/, pages/, hooks/, utils/)',
              'Create .env file with API_BASE_URL'
            ]
          },
          {
            id: 'auth-frontend',
            title: 'Authentication Pages',
            description: 'Login and authentication flow',
            tasks: [
              'Create Login page with form validation',
              'Create Register page (if needed)',
              'Set up JWT token handling (localStorage)',
              'Create AuthContext for user state',
              'Create ProtectedRoute component',
              'Add logout functionality'
            ]
          },
          {
            id: 'dashboard-base',
            title: 'Base Dashboard',
            description: 'Main dashboard layout',
            tasks: [
              'Create Sidebar navigation component',
              'Create Header with user info',
              'Create Dashboard layout component',
              'Add role-based navigation (Admin, Teacher, Student, Parent)',
              'Create Home/Overview pages for each role'
            ]
          }
        ]
      },
      {
        id: 'role-dashboards',
        title: '4. Role-Based Features',
        steps: [
          {
            id: 'teacher-dashboard',
            title: 'Teacher Dashboard',
            description: 'Teacher-specific features',
            tasks: [
              'Create My Courses page (list, create, edit)',
              'Create Course Detail page (lessons, students)',
              'Create Lesson management (add, edit, upload files)',
              'Create Assignment management (create, view submissions)',
              'Create Grading interface (grade assignments, view students)',
              'Create Attendance taking interface'
            ]
          },
          {
            id: 'student-dashboard',
            title: 'Student Dashboard',
            description: 'Student-specific features',
            tasks: [
              'Create My Courses page (enrolled courses)',
              'Create Course View (lessons, materials)',
              'Create Assignments page (pending, completed)',
              'Create Assignment submission interface',
              'Create My Grades page',
              'Create Schedule/Calendar view'
            ]
          },
          {
            id: 'parent-dashboard',
            title: 'Parent Dashboard',
            description: 'Parent-specific features',
            tasks: [
              'Create Children selector (if multiple kids)',
              'Create Child overview (grades, attendance)',
              'Create Homework tracking page',
              'Create Communication with teachers',
              'Create Payment history (basic UI)',
              'Create Notifications/Alerts page'
            ]
          },
          {
            id: 'admin-dashboard',
            title: 'Admin Dashboard',
            description: 'School administration features',
            tasks: [
              'Create School overview dashboard',
              'Create User management (add teachers, students, parents)',
              'Create Class management (create classes, assign teachers)',
              'Create Reports page (attendance, grades)',
              'Create School settings page',
              'Create Announcements management'
            ]
          }
        ]
      },
      {
        id: 'advanced-features',
        title: '5. Advanced Features',
        steps: [
          {
            id: 'notifications',
            title: 'Notification System',
            description: 'In-app and email notifications',
            tasks: [
              'Create Notification model in backend',
              'Set up email backend (SendGrid/SMTP)',
              'Create notification endpoints',
              'Add real-time notifications (WebSocket/polling)',
              'Create notification center in frontend',
              'Add email templates for key events'
            ]
          },
          {
            id: 'messaging',
            title: 'Messaging System',
            description: 'Teacher-Parent-Student communication',
            tasks: [
              'Create Message model',
              'Create conversation/thread logic',
              'Create messaging endpoints',
              'Build messaging UI (chat-like interface)',
              'Add file attachments to messages'
            ]
          },
          {
            id: 'payments',
            title: 'Payment System',
            description: 'School fee management',
            tasks: [
              'Create Payment/Invoice models',
              'Create payment tracking endpoints',
              'Build payment history UI for parents',
              'Add payment marking for admin',
              'Research and document local payment gateways'
            ]
          },
          {
            id: 'reports',
            title: 'Reports & Analytics',
            description: 'Data visualization and reports',
            tasks: [
              'Install charting library (Chart.js/Recharts)',
              'Create attendance reports',
              'Create grade analytics',
              'Create student performance dashboards',
              'Add export functionality (PDF/Excel)'
            ]
          }
        ]
      },
      {
        id: 'mobile-app',
        title: '6. Mobile App',
        steps: [
          {
            id: 'mobile-init',
            title: 'React Native Setup',
            description: 'Initialize mobile application',
            tasks: [
              'cd mobile/ && npx react-native init MadrastiApp',
              'Install navigation libraries (React Navigation)',
              'Install UI components (NativeBase/React Native Elements)',
              'Set up folder structure',
              'Configure development environment'
            ]
          },
          {
            id: 'mobile-auth',
            title: 'Mobile Authentication',
            description: 'Login and user management',
            tasks: [
              'Create Login screen',
              'Set up secure token storage (AsyncStorage/Keychain)',
              'Create user context',
              'Add biometric login (optional)',
              'Create role-based navigation'
            ]
          },
          {
            id: 'mobile-features',
            title: 'Core Mobile Features',
            description: 'Main app functionality',
            tasks: [
              'Create Dashboard screens for each role',
              'Add course/lesson viewing',
              'Add homework submission with camera',
              'Add push notifications (Firebase)',
              'Create offline data caching',
              'Add file download/viewing capabilities'
            ]
          }
        ]
      },
      {
        id: 'testing-deployment',
        title: '7. Testing & Deployment',
        steps: [
          {
            id: 'testing',
            title: 'Testing',
            description: 'Quality assurance',
            tasks: [
              'Add unit tests for key backend endpoints',
              'Add frontend component tests',
              'Manual testing of all user flows',
              'Cross-browser testing',
              'Mobile app testing on devices'
            ]
          },
          {
            id: 'deployment-prep',
            title: 'Deployment Preparation',
            description: 'Production setup',
            tasks: [
              'Set up production database (PostgreSQL)',
              'Configure production settings (DEBUG=False, etc.)',
              'Set up static files serving',
              'Configure environment variables',
              'Set up SSL certificates'
            ]
          },
          {
            id: 'deployment',
            title: 'Deployment',
            description: 'Go live!',
            tasks: [
              'Deploy backend (Heroku/DigitalOcean/Railway)',
              'Deploy frontend (Vercel/Netlify)',
              'Deploy mobile app to TestFlight/Google Play Console',
              'Set up monitoring and logging',
              'Create production database backups',
              'Test production deployment'
            ]
          },
          {
            id: 'launch',
            title: 'Launch & Maintenance',
            description: 'Post-launch activities',
            tasks: [
              'Create user documentation/tutorials',
              'Set up customer support system',
              'Monitor performance and errors',
              'Gather user feedback',
              'Plan feature updates and improvements'
            ]
          }
        ]
      }
    ];

    // State management
    let completedSteps = JSON.parse(localStorage.getItem('madrasti-progress') || '{}');

    // DOM elements
    const content = document.getElementById('content');
    const progressBar = document.getElementById('progressBar');
    const progressText = document.getElementById('progressText');
    const exportBtn = document.getElementById('exportBtn');
    const importFile = document.getElementById('importFile');
    const resetBtn = document.getElementById('resetBtn');
    const collapseAll = document.getElementById('collapseAll');
    const expandAll = document.getElementById('expandAll');

    // Utility functions
    function saveProgress() {
      localStorage.setItem('madrasti-progress', JSON.stringify(completedSteps));
      updateProgress();
    }

    function updateProgress() {
      const totalSteps = CHECKLIST_DATA.reduce((total, phase) => total + phase.steps.length, 0);
      const completed = Object.values(completedSteps).filter(Boolean).length;
      const percentage = totalSteps > 0 ? (completed / totalSteps) * 100 : 0;
      
      progressBar.style.width = `${percentage}%`;
      progressText.textContent = `${completed} / ${totalSteps} completed`;
    }

    function toggleStep(stepId) {
      completedSteps[stepId] = !completedSteps[stepId];
      saveProgress();
      renderChecklist();
    }

    function togglePhase(phaseId) {
      const phase = document.querySelector(`[data-phase="${phaseId}"]`);
      phase.classList.toggle('expanded');
    }

    // Render the checklist
    function renderChecklist() {
      content.innerHTML = '';
      
      CHECKLIST_DATA.forEach(phase => {
        const phaseEl = document.createElement('div');
        phaseEl.className = 'phase expanded';
        phaseEl.setAttribute('data-phase', phase.id);
        
        const completedInPhase = phase.steps.filter(step => completedSteps[step.id]).length;
        
        phaseEl.innerHTML = `
          <div class="phase-header" onclick="togglePhase('${phase.id}')">
            <div class="phase-title">${phase.title}</div>
            <div class="phase-meta">
              <span>${completedInPhase}/${phase.steps.length} completed</span>
              <span class="toggle-icon">▶</span>
            </div>
          </div>
          <div class="phase-content">
            ${phase.steps.map(step => `
              <div class="step ${completedSteps[step.id] ? 'completed' : ''}">
                <input 
                  type="checkbox" 
                  class="step-checkbox" 
                  ${completedSteps[step.id] ? 'checked' : ''}
                  onchange="toggleStep('${step.id}')"
                >
                <div class="step-content">
                  <div class="step-title">${step.title}</div>
                  <div class="step-description">${step.description}</div>
                  <ul class="step-tasks">
                    ${step.tasks.map(task => `<li>${task}</li>`).join('')}
                  </ul>
                </div>
              </div>
            `).join('')}
          </div>
        `;
        
        content.appendChild(phaseEl);
      });
      
      updateProgress();
    }

    // Event listeners
    exportBtn.addEventListener('click', () => {
      const data = {
        version: '1.0',
        exportDate: new Date().toISOString(),
        progress: completedSteps
      };
      
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'madrasti-progress.json';
      a.click();
      URL.revokeObjectURL(url);
    });

    importFile.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const data = JSON.parse(e.target.result);
          if (data.progress) {
            completedSteps = data.progress;
            saveProgress();
            renderChecklist();
            alert('Progress imported successfully!');
          } else {
            alert('Invalid import file');
          }
        } catch (error) {
          alert('Error importing file: ' + error.message);
        }
      };
      reader.readAsText(file);
      e.target.value = '';
    });

    resetBtn.addEventListener('click', () => {
      if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
        completedSteps = {};
        saveProgress();
        renderChecklist();
      }
    });

    collapseAll.addEventListener('click', () => {
      document.querySelectorAll('.phase').forEach(phase => {
        phase.classList.remove('expanded');
      });
    });

    expandAll.addEventListener('click', () => {
      document.querySelectorAll('.phase').forEach(phase => {
        phase.classList.add('expanded');
      });
    });

    // Make functions globally available
    window.toggleStep = toggleStep;
    window.togglePhase = togglePhase;

    // Initial render
    renderChecklist();
  </script>
</body>
</html>