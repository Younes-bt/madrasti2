"""
Django management command to create exercises for Lesson 1256: Colors and Filters
Generated by: generate_batch24_physics.py
"""

from django.core.management.base import BaseCommand
from lessons.models import Lesson
from homework.models import Exercise, Question, QuestionChoice
from users.models import User


class Command(BaseCommand):
    help = 'Create exercises for Lesson 1256: Colors and Filters'

    def handle(self, *args, **options):
        try:
            lesson = Lesson.objects.get(id=1256)
        except Lesson.DoesNotExist:
            self.stdout.write(self.style.ERROR(f'Lesson 1256 not found'))
            return

        admin_user = User.objects.filter(is_superuser=True).first()
        if not admin_user:
            self.stdout.write(self.style.ERROR('No admin user found'))
            return

        exercises_data = [{'title': 'White Light and Colors', 'title_ar': 'الضوء الأبيض والألوان', 'difficulty': 'beginner', 'points': 12, 'questions': [{'text': 'White Light and Colors - Question 1', 'text_ar': 'الضوء الأبيض والألوان - السؤال 1', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'White Light and Colors - Question 2', 'text_ar': 'الضوء الأبيض والألوان - السؤال 2', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'White Light and Colors - Question 3', 'text_ar': 'الضوء الأبيض والألوان - السؤال 3', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'White Light and Colors - Question 4', 'text_ar': 'الضوء الأبيض والألوان - السؤال 4', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'White Light and Colors - Question 5', 'text_ar': 'الضوء الأبيض والألوان - السؤال 5', 'question_type': 'qcm_multiple', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'White Light and Colors - Question 6', 'text_ar': 'الضوء الأبيض والألوان - السؤال 6', 'question_type': 'true_false', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}]}, {'title': 'Primary Colors of Light', 'title_ar': 'الألوان الأساسية للضوء', 'difficulty': 'beginner', 'points': 12, 'questions': [{'text': 'Primary Colors of Light - Question 1', 'text_ar': 'الألوان الأساسية للضوء - السؤال 1', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Primary Colors of Light - Question 2', 'text_ar': 'الألوان الأساسية للضوء - السؤال 2', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Primary Colors of Light - Question 3', 'text_ar': 'الألوان الأساسية للضوء - السؤال 3', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Primary Colors of Light - Question 4', 'text_ar': 'الألوان الأساسية للضوء - السؤال 4', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Primary Colors of Light - Question 5', 'text_ar': 'الألوان الأساسية للضوء - السؤال 5', 'question_type': 'qcm_multiple', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Primary Colors of Light - Question 6', 'text_ar': 'الألوان الأساسية للضوء - السؤال 6', 'question_type': 'true_false', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}]}, {'title': 'Color Mixing', 'title_ar': 'خلط الألوان', 'difficulty': 'intermediate', 'points': 12, 'questions': [{'text': 'Color Mixing - Question 1', 'text_ar': 'خلط الألوان - السؤال 1', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Color Mixing - Question 2', 'text_ar': 'خلط الألوان - السؤال 2', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Color Mixing - Question 3', 'text_ar': 'خلط الألوان - السؤال 3', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Color Mixing - Question 4', 'text_ar': 'خلط الألوان - السؤال 4', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Color Mixing - Question 5', 'text_ar': 'خلط الألوان - السؤال 5', 'question_type': 'qcm_multiple', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Color Mixing - Question 6', 'text_ar': 'خلط الألوان - السؤال 6', 'question_type': 'true_false', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}]}, {'title': 'Color Filters', 'title_ar': 'المرشحات اللونية', 'difficulty': 'intermediate', 'points': 12, 'questions': [{'text': 'Color Filters - Question 1', 'text_ar': 'المرشحات اللونية - السؤال 1', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Color Filters - Question 2', 'text_ar': 'المرشحات اللونية - السؤال 2', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Color Filters - Question 3', 'text_ar': 'المرشحات اللونية - السؤال 3', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Color Filters - Question 4', 'text_ar': 'المرشحات اللونية - السؤال 4', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Color Filters - Question 5', 'text_ar': 'المرشحات اللونية - السؤال 5', 'question_type': 'qcm_multiple', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Color Filters - Question 6', 'text_ar': 'المرشحات اللونية - السؤال 6', 'question_type': 'true_false', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}]}, {'title': 'Colored Objects', 'title_ar': 'الأجسام الملونة', 'difficulty': 'advanced', 'points': 12, 'questions': [{'text': 'Colored Objects - Question 1', 'text_ar': 'الأجسام الملونة - السؤال 1', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Colored Objects - Question 2', 'text_ar': 'الأجسام الملونة - السؤال 2', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Colored Objects - Question 3', 'text_ar': 'الأجسام الملونة - السؤال 3', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Colored Objects - Question 4', 'text_ar': 'الأجسام الملونة - السؤال 4', 'question_type': 'qcm_single', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Colored Objects - Question 5', 'text_ar': 'الأجسام الملونة - السؤال 5', 'question_type': 'qcm_multiple', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}, {'text': 'Colored Objects - Question 6', 'text_ar': 'الأجسام الملونة - السؤال 6', 'question_type': 'true_false', 'points': 2, 'choices': [{'text': 'Option A', 'text_ar': 'الخيار أ', 'is_correct': True}, {'text': 'Option B', 'text_ar': 'الخيار ب', 'is_correct': False}, {'text': 'Option C', 'text_ar': 'الخيار ج', 'is_correct': False}, {'text': 'Option D', 'text_ar': 'الخيار د', 'is_correct': False}]}]}]

        created_count = 0
        for exercise_data in exercises_data:
            # Check if exercise already exists
            if Exercise.objects.filter(
                lesson=lesson,
                title=exercise_data['title']
            ).exists():
                self.stdout.write(
                    self.style.WARNING(
                        f'Exercise "{exercise_data["title"]}" already exists, skipping...'
                    )
                )
                continue

            # Create exercise
            exercise = Exercise.objects.create(
                lesson=lesson,
                title=exercise_data['title'],
                title_arabic=exercise_data['title_ar'],
                difficulty_level=exercise_data['difficulty'],
                total_points=exercise_data['points'],
                created_by=admin_user
            )

            # Create questions for this exercise
            for q_data in exercise_data['questions']:
                question = Question.objects.create(
                    exercise=exercise,
                    question_text=q_data['text'],
                    question_text_arabic=q_data['text_ar'],
                    question_type=q_data['question_type'],
                    points=q_data['points']
                )

                # Create choices for this question
                for choice_data in q_data['choices']:
                    QuestionChoice.objects.create(
                        question=question,
                        choice_text=choice_data['text'],
                        choice_text_arabic=choice_data['text_ar'],
                        is_correct=choice_data['is_correct']
                    )

            created_count += 1
            self.stdout.write(
                self.style.SUCCESS(
                    f'Created exercise: {exercise.title} with {len(exercise_data["questions"])} questions'
                )
            )

        self.stdout.write(
            self.style.SUCCESS(
                f'Successfully created {created_count} exercises for lesson: Colors and Filters'
            )
        )
